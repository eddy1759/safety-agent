{
  "name": "Secure Agent Toolkit Dev",
  "build": {
    "dockerfile": "../Dockerfile",
    "target": "final" // We can develop in the final image
  },

  // Configure tool-specific properties.
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-azuretools.vscode-docker",
        "charliermarsh.ruff"
      ]
    }
  },

  // Use 'postCreateCommand' to install dependencies after the container is created.
  "postCreateCommand": "poetry install --with dev",

  // Forward the port for the API.
  "forwardPorts": [8000],

  // Run as the non-root user from the Dockerfile.
  "remoteUser": "safetyagentuser"
}